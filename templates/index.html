<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ADB APT Repository</title>
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif; 
            margin: 0; 
            padding: 40px 20px; 
            line-height: 1.6; 
            background-color: #f8f9fa;
        }
        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
            background: white; 
            padding: 40px; 
            border-radius: 8px; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 { color: #2c3e50; margin-bottom: 10px; }
        h2 { color: #34495e; margin-top: 40px; margin-bottom: 15px; border-bottom: 2px solid #3498db; padding-bottom: 5px; }
        h3 { color: #34495e; margin-top: 30px; margin-bottom: 10px; }
        .code-container { 
            position: relative; 
            margin: 20px 0; 
            background: #2d3748; 
            border-radius: 8px; 
            overflow: hidden;
        }
        .code-header {
            background: #1a202c;
            padding: 10px 15px;
            color: #e2e8f0;
            font-size: 14px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .copy-btn {
            background: #3182ce;
            color: white;
            border: none;
            padding: 5px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            transition: background 0.2s;
        }
        .copy-btn:hover { background: #2c5aa0; }
        .copy-btn:active { background: #2a69ac; }
        pre { 
            background: #2d3748; 
            color: #e2e8f0; 
            padding: 20px; 
            margin: 0;
            overflow-x: auto; 
            white-space: pre;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 14px;
            line-height: 1.4;
        }
        ul { margin: 15px 0; }
        li { margin: 8px 0; }
        a { color: #3498db; text-decoration: none; }
        a:hover { text-decoration: underline; color: #2980b9; }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
        }
        .info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
        }
        @media (max-width: 768px) {
            .container { padding: 20px; }
        }
    </style>
    <script>
        function copyToClipboard(button, text) {
            navigator.clipboard.writeText(text).then(function() {
                button.textContent = 'Copied!';
                setTimeout(function() {
                    button.textContent = 'Copy';
                }, 2000);
            }).catch(function(err) {
                console.error('Failed to copy: ', err);
                button.textContent = 'Failed';
                setTimeout(function() {
                    button.textContent = 'Copy';
                }, 2000);
            });
        }
    </script>
</head>
<body>
    <div class="container">
        <h1>üöÄ ADB APT Repository</h1>
        <p>Welcome to the ADB APT repository. This repository hosts Debian packages for easy installation and updates.</p>
        
        <h2>üì¶ Quick Setup</h2>
        
        <div class="code-container">
            <div class="code-header">
                <span>Add Repository</span>
                <button class="copy-btn" onclick="copyToClipboard(this, '# Add the repository\necho \"deb https://adambirds.github.io/adb-apt-repo stable main\" | sudo tee /etc/apt/sources.list.d/adb-apt-repo.list\n\n# Add the GPG key\ncurl -fsSL https://adambirds.github.io/adb-apt-repo/pubkey.gpg | sudo gpg --dearmor -o /etc/apt/trusted.gpg.d/adb-apt-repo.gpg\n\n# Update package list\nsudo apt update')">Copy</button>
            </div>
            <pre># Add the repository
echo "deb https://adambirds.github.io/adb-apt-repo stable main" | sudo tee /etc/apt/sources.list.d/adb-apt-repo.list

# Add the GPG key
curl -fsSL https://adambirds.github.io/adb-apt-repo/pubkey.gpg | sudo gpg --dearmor -o /etc/apt/trusted.gpg.d/adb-apt-repo.gpg

# Update package list
sudo apt update</pre>
        </div>
        
        <h2>üß™ Adding Testing Distribution</h2>
        <p>To access packages in the testing distribution (development versions), add both stable and testing:</p>
        
        <div class="code-container">
            <div class="code-header">
                <span>Add both stable and testing distributions</span>
                <button class="copy-btn" onclick="copyToClipboard(this, '# Add both distributions\ncat << EOF | sudo tee /etc/apt/sources.list.d/adb-apt-repo.list\ndeb https://adambirds.github.io/adb-apt-repo stable main\ndeb https://adambirds.github.io/adb-apt-repo testing main\nEOF\n\n# Add the GPG key (choose modern or legacy method above)\n# Then update package lists\nsudo apt update')">Copy</button>
            </div>
            <pre># Add both distributions
cat << EOF | sudo tee /etc/apt/sources.list.d/adb-apt-repo.list
deb https://adambirds.github.io/adb-apt-repo stable main
deb https://adambirds.github.io/adb-apt-repo testing main
EOF

# Add the GPG key
curl -fsSL https://adambirds.github.io/adb-apt-repo/pubkey.gpg | sudo gpg --dearmor -o /etc/apt/trusted.gpg.d/adb-apt-repo.gpg
# Then update package lists
sudo apt update</pre>
        </div>
        
        <h2>‚öñÔ∏è Setting Repository Priorities</h2>
        <p>When using both stable and testing, set priorities to prefer stable packages:</p>
        
        <div class="code-container">
            <div class="code-header">
                <span>Configure APT priorities</span>
                <button class="copy-btn" onclick="copyToClipboard(this, '# Set repository priorities (stable preferred)\nsudo tee /etc/apt/preferences.d/adb-apt-repo << \"PREFEOF\"\nPackage: *\nPin: release o=ADB APT Repository,a=stable\nPin-Priority: 600\n\nPackage: *\nPin: release o=ADB APT Repository,a=testing\nPin-Priority: 500\nPREFEOF\n\n# Update package lists\nsudo apt update')">Copy</button>
            </div>
            <pre># Set repository priorities (stable preferred)
sudo tee /etc/apt/preferences.d/adb-apt-repo << "PREFEOF"
Package: *
Pin: release o=ADB APT Repository,a=stable
Pin-Priority: 600

Package: *
Pin: release o=ADB APT Repository,a=testing
Pin-Priority: 500
PREFEOF

# Update package lists
sudo apt update</pre>
        </div>
        
        <div class="info">
            <strong>üìã Priority Explanation:</strong><br>
            ‚Ä¢ <strong>600 (stable)</strong>: Preferred over testing<br>
            ‚Ä¢ <strong>500 (testing)</strong>: Available but not preferred<br>
            ‚Ä¢ You can still install from testing explicitly: <code>sudo apt install package/testing</code>
        </div>
        
        <h2>üìä Available Distributions</h2>
        <ul>
            <li><strong>stable</strong> - Production-ready packages</li>
            <li><strong>testing</strong> - Development and beta packages</li>
        </ul>
        
        <h2>üóÇÔ∏è Available Components</h2>
        <ul>
            <li><strong>main</strong> - Primary packages</li>
            <li><strong>contrib</strong> - Community contributed packages</li>
        </ul>
        
        <h2>üîç Repository Information</h2>
        <ul>
            <li><a href="./dists/">üìÅ Browse distributions</a></li>
            <li><a href="./pool/">üì¶ Browse package pool</a></li>
            <li><a href="./pubkey.gpg">üîë Download GPG public key</a></li>
        </ul>
        
        <div class="warning">
            <strong>‚ö†Ô∏è Note:</strong> Packages may show as "unknown" distribution in APT - this is normal for custom repositories and doesn't affect functionality.
        </div>
        
        <p><em>Last updated: {{LAST_UPDATED}}</em></p>
    </div>
</body>
</html>
